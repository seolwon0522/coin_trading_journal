# Backend μ½”λ“ λ¶„μ„ λ° κ°μ„  κ°€μ΄λ“

## π― λ©μ 
λ°±μ—”λ“ μ½”λ“μ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ κ²€ν† ν•κ³ , λ¶ν•„μ”ν• μ½”λ“λ¥Ό μ κ±°ν•λ©°, ν”„λ΅ νΈμ—”λ“μ™€μ ν†µν•©μ„ κ²€μ¦ν•©λ‹λ‹¤.

---

## Step 1: ν”„λ΅μ νΈ κµ¬μ΅° νμ•…

### λ…λ Ή
```
backend/src/main/java ν΄λ” κµ¬μ΅°λ¥Ό λ³΄μ—¬μ£Όκ³ , κ° ν¨ν‚¤μ§€μ μ—­ν• μ„ μ„¤λ…ν•΄μ£Όμ„Έμ”.
νΉν controller, service, repository, entity, dto ν¨ν‚¤μ§€λ¥Ό μ¤‘μ μ μΌλ΅ ν™•μΈν•΄μ£Όμ„Έμ”.
```

### ν™•μΈ μ‚¬ν•­
- μ „μ²΄ ν¨ν‚¤μ§€ κµ¬μ΅°
- μ£Όμ” λ„λ©”μΈ μ‹λ³„ (auth, trade, user λ“±)
- κ° κ³„μΈµμ ν΄λμ¤ μμ™€ μ—­ν• 

---

## Step 2: Controller λ¶„μ„

### λ…λ Ή
```
backend/src/main/javaμ λ¨λ“  Controller νμΌμ„ μ°Ύμ•„μ„ λ‹¤μμ„ λ¶„μ„ν•΄μ£Όμ„Έμ”:

1. κ° Controllerμ μ—”λ“ν¬μΈνΈ λ©λ΅ (URL, HTTP λ©”μ„λ“)
2. Request/Response DTO κµ¬μ΅°
3. λ¶ν•„μ”ν•κ±°λ‚ μ¤‘λ³µλ μ—”λ“ν¬μΈνΈ
4. μ—λ¬ μ²λ¦¬ λ°©μ‹

κ° Controller νμΌμ„ μ½κ³  λ¬Έμ μ μ„ μ°Ύμ•„μ£Όμ„Έμ”.
```

### μ²΄ν¬λ¦¬μ¤νΈ
- [ ] λ¨λ“  μ—”λ“ν¬μΈνΈκ°€ μ‚¬μ©λκ³  μλ”κ°€?
- [ ] Request/Response κµ¬μ΅°κ°€ λ…ν™•ν•κ°€?
- [ ] μ μ ν• HTTP μƒνƒ μ½”λ“λ¥Ό λ°ν™ν•λ”κ°€?
- [ ] μ…λ ¥ κ²€μ¦μ΄ λμ–΄ μλ”κ°€?

---

## Step 3: Service λΉ„μ¦λ‹μ¤ λ΅μ§ κ²€ν† 

### λ…λ Ή
```
Service ν΄λμ¤λ“¤μ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ λ¶„μ„ν•΄μ£Όμ„Έμ”:

1. κ° Service ν΄λμ¤μ μ£Όμ” λ©”μ„λ“λ¥Ό μ½μ–΄μ£Όμ„Έμ”
2. λ³µμ΅ν• λ©”μ„λ“(30μ¤„ μ΄μƒ)λ¥Ό μ°Ύμ•„μ£Όμ„Έμ”
3. μ¤‘λ³µλ λ΅μ§μ΄λ‚ λ¶ν•„μ”ν• μ½”λ“λ¥Ό μ‹λ³„ν•΄μ£Όμ„Έμ”
4. νΈλμ­μ… μ²λ¦¬κ°€ μ μ ν•μ§€ ν™•μΈν•΄μ£Όμ„Έμ”

νΉν TradeService, AuthService, UserServiceλ¥Ό μ¤‘μ μ μΌλ΅ λ΄μ£Όμ„Έμ”.
```

### κ°μ„  ν¬μΈνΈ
- λ„λ¬΄ κΈ΄ λ©”μ„λ“λ” λ¶„λ¦¬ ν•„μ”
- μ¤‘λ³µ μ½”λ“λ” κ³µν†µ λ©”μ„λ“λ΅ μ¶”μ¶
- λ¶ν•„μ”ν• null μ²΄ν¬ μ κ±°
- μ‚¬μ©ν•μ§€ μ•λ” λ©”μ„λ“ μ κ±°

---

## Step 4: Repository μΏΌλ¦¬ κ²€ν† 

### λ…λ Ή
```
Repository μΈν„°νμ΄μ¤λ“¤μ„ ν™•μΈν•΄μ£Όμ„Έμ”:

1. λ¨λ“  Repository νμΌμ„ μ½μ–΄μ£Όμ„Έμ”
2. μ‹¤μ λ΅ Serviceμ—μ„ μ‚¬μ©λλ” λ©”μ„λ“μΈμ§€ ν™•μΈν•΄μ£Όμ„Έμ”
3. N+1 λ¬Έμ κ°€ μμ„ λ§ν• μΏΌλ¦¬λ¥Ό μ°Ύμ•„μ£Όμ„Έμ”
4. λ¶ν•„μ”ν• μ»¤μ¤ν…€ μΏΌλ¦¬κ°€ μλ”μ§€ ν™•μΈν•΄μ£Όμ„Έμ”
```

### ν™•μΈ μ‚¬ν•­
- λ―Έμ‚¬μ© μΏΌλ¦¬ λ©”μ„λ“
- λΉ„ν¨μ¨μ μΈ μΏΌλ¦¬
- EAGER/LAZY νμΉ­ μ „λµ

---

## Step 5: DTOμ™€ Entity λ§¤ν•‘ ν™•μΈ

### λ…λ Ή
```
DTOμ™€ Entity κ°„μ λ§¤ν•‘μ„ ν™•μΈν•΄μ£Όμ„Έμ”:

1. Request/Re sponse DTOμ ν•„λ“λ¥Ό ν™•μΈν•΄μ£Όμ„Έμ”
2. Entityμ™€ DTO κ°„ λ³€ν™ λ΅μ§μ„ μ°Ύμ•„μ£Όμ„Έμ”
3. λ¶ν•„μ”ν• ν•„λ“λ‚ λ„λ½λ ν•„λ“λ¥Ό μ°Ύμ•„μ£Όμ„Έμ”
4. Frontendμ—μ„ μ‹¤μ λ΅ μ‚¬μ©ν•λ” ν•„λ“μΈμ§€ ν™•μΈν•΄μ£Όμ„Έμ”
```

### μ²΄ν¬ ν¬μΈνΈ
- DTOμ λ¨λ“  ν•„λ“κ°€ μ‚¬μ©λλ”κ°€?
- Entity β†’ DTO λ³€ν™μ—μ„ λ„λ½λ μ •λ³΄λ” μ—†λ”κ°€?
- λ¶ν•„μ”ν• λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κ³  μμ§€ μ•μ€κ°€?

---

## Step 6: Frontend API νΈμ¶κ³Ό Backend μ—”λ“ν¬μΈνΈ λ§¤μΉ­

### λ…λ Ή
```
Frontendμ™€ Backendμ API ν†µν•©μ„ ν™•μΈν•΄μ£Όμ„Έμ”:

1. frontend/src/api ν΄λ”μ API νΈμ¶ μ½”λ“λ¥Ό ν™•μΈν•΄μ£Όμ„Έμ”
2. Backend Controllerμ μ—”λ“ν¬μΈνΈμ™€ λ§¤μΉ­ν•΄μ£Όμ„Έμ”
3. Request/Response νƒ€μ…μ΄ μΌμΉν•λ”μ§€ ν™•μΈν•΄μ£Όμ„Έμ”
4. λ¶μΌμΉν•λ” λ¶€λ¶„μ„ λ¦¬μ¤νΈμ—…ν•΄μ£Όμ„Έμ”
```

### λ§¤μΉ­ ν™•μΈ
```
Frontend API νΈμ¶ β†’ Backend μ—”λ“ν¬μΈνΈ
- POST /api/auth/login β†’ AuthController.login()
- GET /api/trades β†’ TradeController.getTrades()
...
```

---

## Step 7: λ¶ν•„μ”ν• μ½”λ“ μ •λ¦¬

### λ…λ Ή
```
λ¶ν•„μ”ν• μ½”λ“λ¥Ό μ°Ύμ•„μ„ μ κ±°ν•΄μ£Όμ„Έμ”:

1. μ‚¬μ©ν•μ§€ μ•λ” import λ¬Έ
2. μ£Όμ„ μ²λ¦¬λ μ½”λ“
3. μ‚¬μ©ν•μ§€ μ•λ” private λ©”μ„λ“
4. Controllerμ—μ„ νΈμ¶ν•μ§€ μ•λ” Service λ©”μ„λ“
5. Serviceμ—μ„ νΈμ¶ν•μ§€ μ•λ” Repository λ©”μ„λ“

κ° νμΌλ³„λ΅ μ κ±°ν•  μ½”λ“λ¥Ό λ³΄μ—¬μ£Όκ³  μ‚­μ ν•΄μ£Όμ„Έμ”.
```

### μ •λ¦¬ λ€μƒ
- λ―Έμ‚¬μ© μ½”λ“
- μ¤‘λ³µ μ½”λ“
- μ£Όμ„ μ²λ¦¬λ μ½”λ“
- λ””λ²„κΉ…μ© μ½”λ“ (System.out.println λ“±)

---

## Step 8: κ°μ„  μ‚¬ν•­ μ μ©

### λ…λ Ή
```
λ°κ²¬λ λ¬Έμ λ“¤μ„ μμ •ν•΄μ£Όμ„Έμ”:

1. λ„λ½λ DTO ν•„λ“ μ¶”κ°€
2. λ¶ν•„μ”ν• μ½”λ“ μ κ±°
3. λ³µμ΅ν• λ©”μ„λ“ λ¶„λ¦¬
4. API μ‘λ‹µ κµ¬μ΅° ν†µμΌ

κ° μμ • μ‚¬ν•­μ— λ€ν•΄ μ„¤λ…ν•κ³  μ μ©ν•΄μ£Όμ„Έμ”.
```

### μμ • μ°μ„ μμ„
1. **κΈ΄κΈ‰ (λ°”λ΅ μμ •)**
   - Frontendμ™€ λ§μ§€ μ•λ” API μ‘λ‹µ
   - λ„λ½λ ν•„μ ν•„λ“
   - λ…λ°±ν• λ²„κ·Έ

2. **μ¤‘μ” (μ΄λ² μ‘μ—…μ—μ„ μμ •)**
   - λ¶ν•„μ”ν• μ½”λ“ μ κ±°
   - μ¤‘λ³µ μ½”λ“ μ •λ¦¬
   - λ³µμ΅ν• λ©”μ„λ“ κ°μ„ 

3. **κ°μ„  (μ¶”ν›„ μ‘μ—…)**
   - μ½”λ“ μ¤νƒ€μΌ ν†µμΌ
   - μ„±λ¥ μµμ ν™”
   - ν…μ¤νΈ μ½”λ“ μ¶”κ°€

---

## Step 9: μµμΆ… κ²€μ¦

### λ…λ Ή
```
μμ • μ‚¬ν•­μ„ μµμΆ… ν™•μΈν•΄μ£Όμ„Έμ”:

1. μ»΄νμΌ μ—λ¬κ°€ μ—†λ”μ§€ ν™•μΈ
2. μ£Όμ” λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ λ³€κ²½λμ§€ μ•μ•λ”μ§€ ν™•μΈ
3. Frontend API νΈμ¶μ΄ μ •μƒ μ‘λ™ν• μ§€ κ²€μ¦
4. μ κ±°λ μ½”λ“ λ©λ΅κ³Ό μμ • μ‚¬ν•­ μ”μ•½
```

### μµμΆ… μ²΄ν¬λ¦¬μ¤νΈ
- [ ] λ¨λ“  Controller μ—”λ“ν¬μΈνΈ λ™μ‘ ν™•μΈ
- [ ] Service λΉ„μ¦λ‹μ¤ λ΅μ§ λ³΄μ΅΄
- [ ] Repository μΏΌλ¦¬ μ •μƒ μ‘λ™
- [ ] Frontend μ”κµ¬μ‚¬ν•­ μ¶©μ΅±
- [ ] λ¶ν•„μ”ν• μ½”λ“ μ κ±° μ™„λ£

---

## π“ μμƒ κ²°κ³Ό

### κ°μ„  μ§€ν‘
- μ½”λ“ λΌμΈ μ: 10-15% κ°μ†
- μ¤‘λ³µ μ½”λ“: 80% μ κ±°
- API λ¶μΌμΉ: 100% ν•΄κ²°
- λ³µμ΅λ„: 30% κ°μ„ 

### μ‘μ—… μ‹κ°„
- λ¶„μ„: 1-2μ‹κ°„
- μμ •: 1-2μ‹κ°„
- κ²€μ¦: 30λ¶„

---

## π’΅ μ‹¤μ  μ‹¤ν–‰ μμ‹

```bash
# Step 1 - κµ¬μ΅° νμ•…
"backend/src/main/java ν΄λ” κµ¬μ΅°λ¥Ό λ¶„μ„ν•΄μ£Όμ„Έμ”"

# Step 2 - Controller λ¶„μ„
"AuthController.javaλ¥Ό μ½κ³  λ¬Έμ μ μ„ μ°Ύμ•„μ£Όμ„Έμ”"

# Step 3 - Service κ²€ν† 
"TradeService.javaμ executeTrade λ©”μ„λ“λ¥Ό λ¶„μ„ν•΄μ£Όμ„Έμ”"

# Step 4 - Repository ν™•μΈ
"TradeRepositoryμ λ¨λ“  λ©”μ„λ“κ°€ μ‚¬μ©λλ”μ§€ ν™•μΈν•΄μ£Όμ„Έμ”"

# Step 5 - DTO λ§¤ν•‘
"LoginResponse DTOμ™€ Frontend μ”κµ¬μ‚¬ν•­μ„ λΉ„κµν•΄μ£Όμ„Έμ”"

# Step 6 - API λ§¤μΉ­
"frontend/src/api/auth.tsμ™€ AuthControllerλ¥Ό λΉ„κµν•΄μ£Όμ„Έμ”"

# Step 7 - μ½”λ“ μ •λ¦¬
"TradeService.javaμ λ¶ν•„μ”ν• μ½”λ“λ¥Ό μ κ±°ν•΄μ£Όμ„Έμ”"

# Step 8 - μμ • μ μ©
"LoginResponseμ— userInfo ν•„λ“λ¥Ό μ¶”κ°€ν•΄μ£Όμ„Έμ”"

# Step 9 - μµμΆ… ν™•μΈ
"μμ •λ λ‚΄μ©μ„ μ”μ•½ν•κ³  λ¬Έμ κ°€ μ—†λ”μ§€ ν™•μΈν•΄μ£Όμ„Έμ”"
```

---

μ΄ κ°€μ΄λ“λ¥Ό λ”°λΌ λ‹¨κ³„λ³„λ΅ μ§„ν–‰ν•λ©΄ λ°±μ—”λ“ μ½”λ“λ¥Ό μ²΄κ³„μ μΌλ΅ λ¶„μ„ν•κ³  κ°μ„ ν•  μ μμµλ‹λ‹¤.